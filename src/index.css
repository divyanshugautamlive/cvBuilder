/* Phase 2 CSS Imports */
@import './styles/ai-components.css';
@import './styles/cover-letter.css';
@import './styles/version-manager.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* A4 Page Rules for Print/Export */
/* A4 Page Rules for Print/Export */
@page {
    size: A4;
    margin: 0;
    /* We handle margins in the body/content to ensure background colors bleed if needed */
}

/* Print Specifics - The Real Export Logic */
@media print {

    html,
    body {
        width: 210mm;
        height: 297mm;
        margin: 0;
        padding: 0;
        overflow: visible !important;
    }

    /* Hide everything except the printable area */
    body * {
        visibility: hidden;
    }

    #resume-preview,
    #resume-preview * {
        visibility: visible;
    }

    #resume-preview {
        position: absolute;
        left: 0;
        top: 0;
        width: 210mm;
        /* Remove fixed height for print so it flows naturally */
        min-height: 297mm;
        height: auto !important;
        margin: 0;
        padding: 0 !important;
        /* Reset padding, let the inner container handle it if needed */
        box-shadow: none;
        transform: none !important;
        overflow: visible !important;
        background: white;
    }

    /* Important: Force background graphics to print */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }

    /* Hide the visual page break markers in print */
    .page-break-marker {
        display: none !important;
    }
}

/* Page Break Utilities */
.break-inside-avoid {
    page-break-inside: avoid;
    break-inside: avoid;
}

.break-before-always {
    page-break-before: always;
    break-before: always;
}

/* Visual Editor Styles (Screen Only) */
@media screen {
    #resume-preview {
        width: 210mm;
        /* Visual simulation of pages using repeating gradient */
        min-height: 297mm;
        /* Dashed line every 297mm - 1px line, then transparent */
        background-image: linear-gradient(to bottom, transparent, transparent calc(297mm - 1px), #e5e7eb calc(297mm - 1px), #e5e7eb 297mm);
        background-size: 100% 297mm;
        position: relative;
    }

    /* Add a subtle "Page 2", "Page 3" marker on hover or always? 
       Let's keep it simple: A shadow line is good.
       We can also add a right-side marker index if desired, but let's stick to the subtle line first. 
    */
    .page-break-marker {
        position: absolute;
        left: 0;
        right: 0;
        border-bottom: 2px dashed #ff4d4d;
        /* Red dashed line for visibility */
        opacity: 0.5;
        pointer-events: none;
        z-index: 50;
    }
}

/* ATS-friendly base styles - black text, white background */
#resume-preview {
    color: #000000;
    background-color: #ffffff;
}

#resume-preview h1,
#resume-preview h2,
#resume-preview h3 {
    color: #000000;
}

/* Template Count Badge */
.template-count-badge {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 4px 12px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 13px;
}

/* Custom Scrollbar */
.custom-scrollbar::-webkit-scrollbar {
    width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: #f1f1f1;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #a1a1a1;
}